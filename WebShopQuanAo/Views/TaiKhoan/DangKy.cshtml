@model WebShopQuanAo.Models.DangKyViewModel
@{
    ViewBag.Title = "Đăng ký";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container d-flex justify-content-center align-items-center" style="min-height: calc(100vh - 250px);">
    <div class="card p-4 shadow-lg login-card" style="width: 100%; max-width: 450px;">
        <h3 class="text-center mb-4 fw-bold" style="color: #FFA500">Tạo tài khoản</h3>

        @using (Html.BeginForm("DangKy", "TaiKhoan", FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            @Html.ValidationSummary(true, "", new { @class = "text-danger mb-2" })

            <div class="mb-3">
                @Html.LabelFor(m => m.HoTen, htmlAttributes: new { @class = "fw-bold" })
                @Html.TextBoxFor(m => m.HoTen, new { @class = "form-control", placeholder = "Họ và tên" })
                @Html.ValidationMessageFor(m => m.HoTen, "", new { @class = "text-danger" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.Email, htmlAttributes: new { @class = "fw-bold" })
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", placeholder = "Email" })
                @Html.ValidationMessageFor(m => m.Email, "", new { @class = "text-danger" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.SDT, htmlAttributes: new { @class = "fw-bold" })
                @Html.TextBoxFor(m => m.SDT, new { @class = "form-control", placeholder = "Số điện thoại" })
                @Html.ValidationMessageFor(m => m.SDT, "", new { @class = "text-danger" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.MatKhau, htmlAttributes: new { @class = "fw-bold" })
                <div class="input-group">
                    @Html.PasswordFor(m => m.MatKhau, new { @class = "form-control", placeholder = "Mật khẩu", id = "passwordInput" })
                    <span class="input-group-text" id="togglePassword"><i class="bi bi-eye"></i></span>
                </div>
                @Html.ValidationMessageFor(m => m.MatKhau, "", new { @class = "text-danger" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.XacNhanMatKhau, htmlAttributes: new { @class = "fw-bold" })
                <div class="input-group">
                    @Html.PasswordFor(m => m.XacNhanMatKhau, new { @class = "form-control", placeholder = "Xác nhận mật khẩu", id = "confirmPasswordInput" })
                    <span class="input-group-text" id="toggleConfirmPassword"><i class="bi bi-eye"></i></span>
                </div>
                @Html.ValidationMessageFor(m => m.XacNhanMatKhau, "", new { @class = "text-danger" })
            </div>

            <button type="submit" class="btn btn-register w-100 py-2 fw-bold rounded-3">ĐĂNG KÝ</button>
        }

        <p class="text-center mt-3 mb-0">
            Đã có tài khoản? @Html.ActionLink("Đăng nhập ngay", "DangNhap", "TaiKhoan", null, new { @class = "text-primary fw-bold text-decoration-none" })
        </p>
    </div>
</div>

<!-- Mắt ẩn hiện mật khẩu + xác nhận mật khẩu -->
<script>
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('passwordInput');
    togglePassword.addEventListener('click', function () {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        this.querySelector('i').classList.toggle('bi-eye');
        this.querySelector('i').classList.toggle('bi-eye-slash');
    });

    const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
    const confirmPasswordInput = document.getElementById('confirmPasswordInput');
    toggleConfirmPassword.addEventListener('click', function () {
        const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        confirmPasswordInput.setAttribute('type', type);
        this.querySelector('i').classList.toggle('bi-eye');
        this.querySelector('i').classList.toggle('bi-eye-slash');
    });
</script>
